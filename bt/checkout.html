<!doctype html>
<html lang="en">
    <head>
        <title>Checkout</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <style>
            body {
                background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
                min-height: 100vh;
            }

            .checkout-container {
                max-width: 1200px;
                margin: 30px auto;
                padding: 20px;
            }

            .checkout-card {
                background: white;
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            }

            .order-summary {
                background: #f8f9fa;
                border-radius: 10px;
                padding: 20px;
                height: fit-content;
                position: sticky;
                top: 20px;
            }

            .summary-item {
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
                padding-bottom: 10px;
                border-bottom: 1px solid #dee2e6;
            }

            .order-items {
                max-height: 300px;
                overflow-y: auto;
                margin-bottom: 20px;
            }

            .order-item {
                display: flex;
                align-items: center;
                padding: 10px 0;
                border-bottom: 1px solid #eee;
            }

            .order-item:last-child {
                border-bottom: none;
            }

            .form-control:focus {
                border-color: #ff6b6b;
                box-shadow: 0 0 0 0.2rem rgba(255, 107, 107, 0.25);
            }

            .btn-checkout {
                background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%);
                border: none;
                padding: 12px;
                font-weight: bold;
                font-size: 1.1rem;
                transition: all 0.3s ease;
            }

            .btn-checkout:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
            }

            .payment-method {
                border: 2px solid #dee2e6;
                border-radius: 8px;
                padding: 15px;
                margin-bottom: 10px;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .payment-method:hover {
                border-color: #ff6b6b;
                background: #fff5f5;
            }

            .payment-method.active {
                border-color: #ff6b6b;
                background: #fff5f5;
            }

            .step-indicator {
                display: flex;
                justify-content: space-between;
                margin-bottom: 30px;
                position: relative;
            }

            .step-indicator::before {
                content: '';
                position: absolute;
                top: 20px;
                left: 10%;
                right: 10%;
                height: 2px;
                background: #dee2e6;
                z-index: 1;
            }

            .step {
                text-align: center;
                position: relative;
                z-index: 2;
                flex: 1;
            }

            .step-number {
                width: 40px;
                height: 40px;
                background: #dee2e6;
                color: #6c757d;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 10px;
                font-weight: bold;
            }

            .step.active .step-number {
                background: #ff6b6b;
                color: white;
            }

            .step.completed .step-number {
                background: #28a745;
                color: white;
            }
        </style>
    </head>

    <body>
        <header>
            <nav>
                <div class="container-fluid text-white p-3" style="background-color: rgb(13, 13, 13);">
                    <h1 class="text-center">Checkout</h1>
                    <div class="d-flex justify-content-center align-items-center" id="navbar_home">
                        <div><a href="home.html" class="ms-3 bi bi-house">Home</a></div>
                        <div><a href="cart.html" class="ms-3 bi bi-cart">Cart</a></div>
                    </div>
                </div>
            </nav>
        </header>

        <main>
            <div class="checkout-container">
                <!-- Progress Steps -->
                <div class="step-indicator">
                    <div class="step active">
                        <div class="step-number">1</div>
                        <div>Information</div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div>Payment</div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div>Confirmation</div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-8">
                        <div class="checkout-card mb-4">
                            <h3 class="mb-4">Shipping Information</h3>
                            
                            <form id="checkout-form">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">First Name</label>
                                        <input type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Last Name</label>
                                        <input type="text" class="form-control" required>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" required>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" required>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Address</label>
                                    <input type="text" class="form-control" required>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">City</label>
                                        <input type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">ZIP Code</label>
                                        <input type="text" class="form-control" required>
                                    </div>
                                </div>
                                
                                <div class="mb-4">
                                    <label class="form-label">Country</label>
                                    <select class="form-select" required>
                                        <option value="">Select Country</option>
                                        <option value="US">United States</option>
                                        <option value="UK">United Kingdom</option>
                                        <option value="CA">Canada</option>
                                        <option value="IN">India</option>
                                        <option value="AU">Australia</option>
                                    </select>
                                </div>
                                
                                <hr class="my-4">
                                
                                <h3 class="mb-4">Payment Method</h3>
                                
                                <div class="mb-3">
                                    <div class="payment-method" onclick="selectPayment('credit-card')">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="payment" id="credit-card" checked>
                                            <label class="form-check-label" for="credit-card">
                                                <i class="bi bi-credit-card"></i> Credit/Debit Card
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="payment-method" onclick="selectPayment('paypal')">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="payment" id="paypal">
                                            <label class="form-check-label" for="paypal">
                                                <i class="bi bi-paypal"></i> PayPal
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="payment-method" onclick="selectPayment('cash')">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="payment" id="cash">
                                            <label class="form-check-label" for="cash">
                                                <i class="bi bi-cash"></i> Cash on Delivery
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="credit-card-fields">
                                    <div class="row">
                                        <div class="col-md-12 mb-3">
                                            <label class="form-label">Card Number</label>
                                            <input type="text" class="form-control" placeholder="1234 5678 9012 3456">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Expiration Date</label>
                                            <input type="text" class="form-control" placeholder="MM/YY">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">CVV</label>
                                            <input type="text" class="form-control" placeholder="123">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="save-info">
                                    <label class="form-check-label" for="save-info">
                                        Save this information for next time
                                    </label>
                                </div>
                                
                                <button type="submit" class="btn btn-checkout btn-lg w-100">
                                    <i class="bi bi-lock"></i> Place Order
                                </button>
                            </form>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="checkout-card">
                            <h3 class="mb-4">Order Summary</h3>
                            
                            <div class="order-items" id="order-items-list">
                                <!-- Order items will be loaded here -->
                            </div>
                            
                            <div class="summary-item">
                                <span>Subtotal</span>
                                <span id="order-subtotal">$0.00</span>
                            </div>
                            <div class="summary-item">
                                <span>Shipping</span>
                                <span id="order-shipping">$0.00</span>
                            </div>
                            <div class="summary-item">
                                <span>Tax</span>
                                <span id="order-tax">$0.00</span>
                            </div>
                            <div class="summary-item" style="font-size: 1.2rem; font-weight: bold; color: #ff6b6b;">
                                <span>Total</span>
                                <span id="order-total">$0.00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <!-- Footer content -->
        </footer>

        <!-- JavaScript Libraries -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                loadOrderSummary();
                
                // Load checkout data from localStorage
                const checkoutData = JSON.parse(localStorage.getItem('checkoutData'));
                if (!checkoutData) {
                    window.location.href = 'cart.html';
                    return;
                }
                
                // Update order summary
                document.getElementById('order-subtotal').textContent = checkoutData.subtotal;
                document.getElementById('order-shipping').textContent = checkoutData.shipping;
                document.getElementById('order-tax').textContent = checkoutData.tax;
                document.getElementById('order-total').textContent = checkoutData.total;
                
                // Load order items
                const orderItemsList = document.getElementById('order-items-list');
                let itemsHTML = '';
                
                checkoutData.cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    itemsHTML += `
                        <div class="order-item">
                            <div style="flex: 1;">
                                <div style="font-weight: 600;">${item.name}</div>
                                <div class="text-muted" style="font-size: 0.9rem;">Quantity: ${item.quantity}</div>
                            </div>
                            <div style="font-weight: 600; color: #ff6b6b;">
                                $${itemTotal.toFixed(2)}
                            </div>
                        </div>
                    `;
                });
                
                orderItemsList.innerHTML = itemsHTML;
                
                // Form submission
                document.getElementById('checkout-form').addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Here you would typically send the order to your server
                    // For now, we'll simulate a successful order
                    const orderNumber = Math.floor(Math.random() * 1000000);
                    
                    // Save order confirmation
                    localStorage.setItem('orderConfirmation', JSON.stringify({
                        orderNumber: orderNumber,
                        items: checkoutData.cart,
                        total: checkoutData.total,
                        date: new Date().toLocaleDateString()
                    }));
                    
                    // Clear cart
                    localStorage.removeItem('cart');
                    localStorage.removeItem('checkoutData');
                    
                    // Redirect to confirmation page
                    window.location.href = 'confirmation.html';
                });
            });

            function selectPayment(method) {
                // Update active class
                document.querySelectorAll('.payment-method').forEach(el => {
                    el.classList.remove('active');
                });
                event.currentTarget.classList.add('active');
                
                // Update radio button
                document.getElementById(method).checked = true;
                
                // Show/hide credit card fields
                const creditCardFields = document.getElementById('credit-card-fields');
                creditCardFields.style.display = method === 'credit-card' ? 'block' : 'none';
            }

            function loadOrderSummary() {
                const checkoutData = JSON.parse(localStorage.getItem('checkoutData'));
                if (checkoutData) {
                    document.getElementById('order-subtotal').textContent = checkoutData.subtotal;
                    document.getElementById('order-shipping').textContent = checkoutData.shipping;
                    document.getElementById('order-tax').textContent = checkoutData.tax;
                    document.getElementById('order-total').textContent = checkoutData.total;
                    
                    const orderItemsList = document.getElementById('order-items-list');
                    let itemsHTML = '';
                    
                    checkoutData.cart.forEach(item => {
                        const itemTotal = item.price * item.quantity;
                        itemsHTML += `
                            <div class="order-item">
                                <div style="flex: 1;">
                                    <div style="font-weight: 600;">${item.name}</div>
                                    <div class="text-muted" style="font-size: 0.9rem;">Quantity: ${item.quantity} Ã— $${item.price.toFixed(2)}</div>
                                </div>
                                <div style="font-weight: 600; color: #ff6b6b;">
                                    $${itemTotal.toFixed(2)}
                                </div>
                            </div>
                        `;
                    });
                    
                    orderItemsList.innerHTML = itemsHTML;
                }
            }
        </script>
    </body>
</html>